<div class="tab-pane board map-search">
  <div class="x_panel landBank_x_panel">
      <div class="x_title">
          <h2>
            <i class="fa fa-search">
            Generate Report
            </i>
          </h2>
            <br /><br/>
          <div class="title_right">
            <div class="row">
              <form class="form" [formGroup]="reportForm" (ngSubmit)="generate()">
                
    
                             
                   
        
                
               
               
                <div class="col-sm-2">
                      <label for="selectedReportType"  class="form-label">Report Type:</label>
                      <div class="input-group " id="search">
                        <select class="land-type-select" formControlName="selectedReportType" id="selectedReportType" name="selectedReportType" (change)="reportTypeChangeHandler(reportType.value)">
                          <option value="0">--- Select Report Type ---</option>
                          <option *ngFor="let type of reportTypes" [value]="type.id">{{type.title}}</option>
                        </select>
                      </div>

    
                </div>

          

              <div class="col-sm-2" *ngIf="reportIsTypeOf(summerizedReports)">
                  <label for="summerizedBy"  class="form-label">Summerized By:</label>
                  <div class="input-group " id="search">
                    <select class="land-type-select" formControlName="summerizedBy" name="summerizedBy">
                      <option value="1" selected>Region</option>
                      <option value="2">Zone</option>
                      <option value="3">Woreda</option>
                    </select>
                  </div>
              </div>

              <div class="col-sm-2" *ngIf="reportIsTypeOf(filterReports)">
                <label for="filteredBy"  class="form-label">Filtered By:</label>
                <div class="input-group " id="search">
                  <select class="land-type-select" formControlName="filteredBy" name="filteredBy" id="filteredBy">
                    <option value="0" selected>None</option>
                    <option value="1">Region</option>
                    <option value="2">Zone</option>
                    <option value="3">Woreda</option>
                  </select>
                </div>
            </div>

            <div class="col-sm-2" *ngIf="isFilteredBy([1,2,3]) && reportIsTypeOf(filterReports)">
                <label for="region"  class="form-label">Region:</label>
                <div class="input-group " id="search">
                  <select class="land-type-select" formControlName="region" name="region" (change)="regionSelected($event.target.value)">
                    <option value="" selected>--- Select Region ---</option>
                    <option *ngFor="let type of regions" [value]="type.csaregionid">{{type.csaregionnameeng}}</option>
                  </select>
                </div>
            </div>

            <div class="col-sm-2" *ngIf="isFilteredBy([2,3]) && reportIsTypeOf(filterReports)">
                <label for="region"  class="form-label">Zone:</label>
                <div class="input-group " id="search">
                  <select class="land-type-select" formControlName="zone" name="zone" (change)="zoneSelected($event.target.value)"> 
                    <option value="" selected>--- Select Zone ---</option>
                    <option *ngFor="let type of zoneList" [value]="type.nrlaisZoneid">{{type.csazonenameeng}}</option>
                  </select>
                </div>
            </div>

            <div class="col-sm-2" *ngIf="isFilteredBy([3]) && reportIsTypeOf(filterReports)">
                <label for="region"  class="form-label">Woreda:</label>
                <div class="input-group " id="search">
                  <select class="land-type-select" formControlName="woreda" name="woreda">
                    <option value="" selected>--- Select Woreda ---</option>
                    <option *ngFor="let type of woredaList" [value]="type.nrlaisWoredaid">{{type.woredanameeng}}</option>
                  </select>
                </div>
            </div>
    
            
            
            <div class="col-sm-4" *ngIf="reportIsTypeOf([5])">
                <div formArrayName="dates">

                  <div *ngFor="let language of reportForm.controls.dates.controls; let i=index" class="">
                  <div class="" [formGroupName]="i">
                  <div class="form-group col-xs-8">
                    <div class="col-xs-10">
                        <label>Date</label>
                        <input type="date" required  class="land-type-select form-control my-0 py-1 lime-border" formControlName="date">
                    </div>
                    <div class="col-xs-2">
                            <a *ngIf="reportForm.controls.dates.controls.length > 1"  class="btn btn-small" (click)="removeDate(i)"><i class="fa fa-minus"></i></a>
                    </div>
                </div>
                </div></div>
                </div>
                  <button class="btn btn-default" (click)="addDate()" style="cursor: default"><i class="fa fa-plus"></i> Add Date </button>
                </div>

                <div class="col-sm-4" *ngIf="reportIsTypeOf([6])">
                    <div formArrayName="farmSizes">
  
                      <div *ngFor="let language of reportForm.controls.farmSizes.controls; let i=index" class="">
                      <div class="" [formGroupName]="i">
                      <div class="form-group col-xs-8">
                        <div class="col-xs-10">
                            <label>Size</label>
                            <input type="text" required  class="land-type-select form-control my-0 py-1 lime-border" formControlName="size">
                        </div>
                        <div class="col-xs-2">
                                <a *ngIf="reportForm.controls.farmSizes.controls.length > 1"  class="btn btn-small" (click)="removeSizeField(i)"><i class="fa fa-minus"></i></a>
                        </div>
                    </div>
                    </div></div>
                    </div>
                      <button class="btn btn-default" (click)="addSizeField()" style="cursor: default"><i class="fa fa-plus"></i> Add Size </button>
                    </div>
         
                <div class="col-sm-2" *ngIf="reportIsTypeOf([10])">
                    <label for="toDate"  class="form-label">To Date:</label>
                    <div class="input-group " id="search">
                        <input class="land-type-select form-control my-0 py-1 lime-border"  type="date" formControlName="endDate" placeholder="Select Date"
                        >
                    </div>
                </div>

                <div class="col-sm-2" *ngIf="reportIsTypeOf([11])">
                  <label for="fromYear" class="form-label">From Year: </label>
                  <div class="input-group" id="search">
                    <select class="land-type-select from-control my-0 py-1 lime-border" formControlName="startYear" placeholder="Start Year">
                      <option value="2017">2017</option>
                      <option value="2018">2018</option>
                      <option value="2019">2019</option>
                      <option value="2020">2020</option>
                      <option value="2021">2021</option>
                      <option value="2022">2022</option>
                      <option value="2023">2023</option>
                      <option value="2024">2024</option>
                      <option value="2025">2025</option>
                    </select>
                  </div>
                </div>

                <div class="col-sm-2" *ngIf="reportIsTypeOf([11])">
                  <label for="endYear" class="form-label">To Year: </label>
                  <div class="input-group" id="search">
                    <select class="land-type-select from-control my-0 py-1 lime-border" formControlName="endYear" placeholder="End Year">
                      <option value="2017">2017</option>
                      <option value="2018">2018</option>
                      <option value="2019">2019</option>
                      <option value="2020">2020</option>
                      <option value="2021">2021</option>
                      <option value="2022">2022</option>
                      <option value="2023">2023</option>
                      <option value="2024">2024</option>
                      <option value="2025">2025</option>
                    </select>
                  </div>
                </div>

                <div class="col-sm-2" *ngIf="reportIsTypeOf([11])">
                  <label for="farmId"  class="form-label">Farm:</label>
                  <div class="input-group " id="search">
                    <select class="land-type-select" formControlName="farmId" id="farmId" name="farmId" >
                      <option value="0">--- Select Farm ---</option>
                      <option *ngFor="let type of farms" [value]="type.id">{{type.operator.name}}</option>
                    </select>
                  </div>


            </div>
<!-- 
                <div class="col-sm-2" *ngIf="reportIsTypeOf([3])">
                    <label for="endDate"  class="form-label">End Date:</label>
                    <div class="input-group " id="search">
                        <input class="land-type-select form-control my-0 py-1 lime-border"  type="date" formControlName="endDate" placeholder="Select Date"
                        >
                    </div>
                </div> -->

         
           
       
              


    
              </form>
              <button
              
              class="btn btn-default generate" (click)="buttonClicked()">Generate</button>

              <button class="btn btn-default" (click)="downloadReport()">Preview</button>
    
            </div>
          </div>
        </div>
    
       <div
       id="report_html" [innerHtml]="html">

       </div>
  </div>

  


</div>
