<div id="user" class="tab-pane board">
  <div class="x_panel">
    <div class="x_title">
      <h2><i class="fa fa-search"></i>&nbsp; Search Farms and Farm Owners</h2>
      <div class="title_right">
        <div class="align-right" style="display: flex;">
          <div class="col-md-5 col-sm-5 col-xs-5 col-lg-5 col-md-offset-2 top_search">
            <div class="input-group">
              <input [(ngModel)]="term" (keyup)="load(0)" class="form-control btn-round" type="search" name="search" placeholder="Search" title="Search">
              <span class="input-group-btn">
                <button class="btn btn-round btn-default" type="button" (click)="load(0)">
                  <i class="fa fa-search"></i>&nbsp;
                </button>
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

    <div class="x_content has-scroll">
      <div *ngIf="loading" class="align-center"><h2>Loading...</h2></div>
      <div *ngIf="!loading && !farms.length" class="align-center">
        <p> {{term ? ('No search results found for "' + term + '".') : 'No registered farms, yet.'}}</p>
      </div>

      <div *ngIf="!loading && farms.length">
        <table class="table table-striped table-bordered jambo_table bulk_action">
          <caption class="title text-success">Showing {{farms.length}} of {{totalFarms}} {{term ? 'search result' : 'registered farm'}}{{farms.length == 1 ? '' : 's'}}{{term ? (' found for "' + term + '"') : null}}.</caption>
          <thead>
          <tr class="">
            <th>
              <input type="checkbox" id="check-all" class="flat">
            </th>
            <th>Owner Name</th>
            <th>Owner Type</th>
            <th>Farm Type</th>
            <th>Invested Capital</th>
            <th>Description</th>
            <th>Actions</th>
          </tr>
          </thead>

          <tbody>
          <tr *ngFor="let farm of farms">
            <td class="a-center ">
              <input type="checkbox" class="flat" name="table_records">
            </td>
            <td>
              <label [for]="'farm-open-btn-' + farm.id">{{farm.operator ? farm.operator.name : null}}</label>
            </td>
            <td>
              <label [for]="'farm-open-btn-' + farm.id">{{farm.operator ? farm.operator.type ? farm.operator.type.name : null : null}}</label>
            </td>
            <td>
              <label [for]="'farm-open-btn-' + farm.id">{{farm.type ? farm.type.name : null}}</label>
            </td>
            <td>
              <label [for]="'farm-open-btn-' + farm.id">{{farm.investedCapital}}</label>
            </td>
            <td>
              <label [for]="'farm-open-btn-' + farm.id">{{farm.description}}</label>
            </td>
            <td class="text-nowrap align-center">
              <button [id]="'farm-open-btn-' + farm.id" class="btn btn-sm btn-default" title="Detail" (click)="openDetail(farm.id)">
                <i class="fa fa-eye"></i>
              </button>
            </td>
          </tr>
          </tbody>
        </table>

        <div class="align-center" *ngIf="totalFarms > farms.length">
          <button type="button" class="btn btn-round" (click)="load()">Load More...</button>
        </div>
      </div>
    </div>
  </div>
</div>
