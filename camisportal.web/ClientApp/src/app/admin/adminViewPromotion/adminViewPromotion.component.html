
<div class="modal-dialog">
    <div class="modal-content col-md-12">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">
                Promotion Detial
            </h4>
        </div>
        <div class="modal-body col-md-12">
            <div class="" role="tabpanel" data-example-id="togglable-tabs">
                <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
                    <li class="active"><a href="#promotion_detial" data-toggle="tab">Promotion</a>
                    </li>
                    <li><a href="#document" data-toggle="tab">Document</a>
                    </li>
                    <li><a href="#evalutionTeam" data-toggle="tab">Evaluation Team</a>
                    </li>
                    <li>
                        <a href="#evaluation" data-toggle="tab">Evaluation Details</a>
                    </li>
                </ul>

                <div id="myTabContent" class="tab-content has-scroll" *ngIf="promotionUnit != null">
                    <div  role="tabpanel" class="tab-pane fade active in" id="promotion_detial" >
                        <table class="table table-striped" >
                            <tbody>
                            <tr>
                                <td><strong>Title</strong></td>
                                <td>{{promotionUnit.promotion.title}}</td>
                            </tr>
                            <tr>
                                <td><strong>Land UPIN</strong></td>
                                <td>{{promotionUnit.landUPIN}}</td>
                            </tr>
                            <tr>
                                <td><strong>Reference No</strong></td>
                                <td>{{promotionUnit.promotion.promotionRef}}</td>
                            </tr>
                            <tr>
                                <td><strong>Posted Date:</strong></td>
                                <td>{{promotionUnit.promotion.postedOn}}</td>
                            </tr>
                            <tr>
                                <td><strong>Started Date:</strong></td>
                                <td>{{promotionUnit.promotion.applyDateFrom}}</td>
                            </tr>
                            <tr>
                                <td><strong>End Date</strong></td>
                                <td>{{promotionUnit.promotion.applyDateTo}}</td>
                            </tr>
                            <tr>
                                <td><strong>Summery</strong></td>
                                <td>{{promotionUnit.promotion.summery}}</td>
                            </tr>
                            <tr>
                                <td><strong>Description</strong></td>
                                <td>{{promotionUnit.promotion.description}}</td>
                            </tr>
                            <tr>
                                <td><strong>Region:</strong></td>
                                <td>{{promotionUnit.promotion.region}}</td>
                            </tr>
                            <tr>
                                <td><strong>Status:</strong></td>
                                <td>{{promotionUnit.promotion.status}}</td>
                            </tr>
                            </tbody>
                        </table>
                        <div class="col-md-3 image" *ngFor="let img of promotionUnit.pictures">
                            <img [src]="'data:'+img.mime+';base64,'+img.data" class="avatar"/>
                        </div>
                    </div>
                    <div  role="tabpanel" class="tab-pane fade" id="document">
                        <div class="col-md-12" *ngFor="let doc of promotionUnit.documents">
                            <pdf-viewer [src]="'data:'+doc.mime+';base64,'+doc.data"
                                        [render-text]="true"
                                        style="display: block;"
                            ></pdf-viewer>
                        </div>

                    </div>
                    <div role="tabpanel" class="tab-pane fade" id="evalutionTeam">
                        <table class="table" id="eval-team-parent-table"  *ngIf="promotionUnit.evalTeams?.length > 0">
                            <tbody>
                            <tr>
                                <td>
                                    <strong>Evaluation Team With Criteria</strong>
                                </td>
                            </tr>
                            <tr *ngFor="let team of promotionUnit.evalTeams; index as x">
                                <td>
                                    <table class="table table-striped table-condensed" id="eval-team-table">
                                        <tbody>
                                        <tr class="eval-team">
                                            <td><strong>Team Name: </strong>{{team.teamName}}</td>
                                            <td><strong>Team Weight: </strong> {{team.weight}}</td>
                                            <td>
                                                <strong>Team Member: </strong>
                                                <span *ngFor="let member of team.members">{{member.userName}} | {{member.weight}}, </span>
                                            </td>
                                        </tr>
                                        <tr  *ngFor="let criteria of team.criterion; index as i">
                                            <td colspan="3" id="eval-criteria-parent">
                                                <table class="table table-condensed" id="evl-criteria-table">
                                                    <tr class="eval-criteria">
                                                        <td><strong>Criteria Name: </strong>{{criteria.name}}</td>
                                                        <td><strong>Max Value: </strong>{{criteria.maxVal}}</td>
                                                        <td><strong>Weight: </strong>{{criteria.weight}}</td>
                                                        <td>
                                                            <p *ngFor="let list of criteria.valueList">
                                                                <strong>{{list.name}}: </strong>{{list.value}}
                                                            </p>
                                                        </td>
                                                    </tr>
                                                    <tr  *ngFor="let subCri of criteria.cubCriterion; index as z">
                                                        <td colspan="4" id="eval-sub-criteria">
                                                            <table class="table  table-condensed" id="eval-sub-criteria-table">
                                                                <tr>
                                                                    <td><strong>Criteria Name: </strong>{{subCri.name}}</td>
                                                                    <td><strong>Max Value: </strong>{{subCri.maxVal}}</td>
                                                                    <td><strong>Weight: </strong>{{subCri.weight}}</td>
                                                                    <td>
                                                                        <p *ngFor="let list of subCri.valueList">
                                                                            <strong>{{list.name}}: </strong>{{list.value}}
                                                                        </p>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div role="tabpanel" class="tab-pane fade" id="evaluation">
                        <table class="table table-striped">
                            <thead>
                            <tr><th colspan="7">(2) Participated Investors</th></tr>
                            <tr>
                                <th>No</th>
                                <th>Investor Name</th>
                                <th>Nationality</th>
                                <th>Submitted On</th>
                                <th>Proposed Capital</th>
                                <th>Contact Address</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let appInvestor of applicantList; index as x">
                                <td>{{x+1}}</td>
                                <td>{{appInvestor.investorName}}</td>
                                <td>{{appInvestor.nationality}}</td>
                                <td>{{appInvestor.submittedDate}}</td>
                                <td>{{appInvestor.capital}}</td>
                                <td><strong>Name: </strong>{{appInvestor.contact.name}}<br/>
                                    <strong>Phone: </strong>{{appInvestor.contact.phone}}<br/>
                                    <strong>Email: </strong>{{appInvestor.contact.email}}
                                </td>
                                <td>
                                    <div class="btn-group">
                                        <button class="btn-sm btn btn-camis" (click)="evaluateBid(appInvestor.promoID, appInvestor.investorID)">Evaluate</button>
                                        <button class="btn-sm btn btn-primary">DETAIL</button>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>